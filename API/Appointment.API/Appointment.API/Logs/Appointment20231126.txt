2023-11-26 10:57:09.091 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 10:57:09.467 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 10:57:09.468 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 10:57:09.473 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 10:57:09.474 +05:30 [INF] Hosting environment: Development
2023-11-26 10:57:09.474 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 10:57:13.874 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 10:57:14.396 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 200 - text/html;charset=utf-8 527.4424ms
2023-11-26 10:57:14.411 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 10:57:14.414 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 10:57:14.422 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 10.0933ms
2023-11-26 10:57:14.452 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.5992ms
2023-11-26 10:57:14.573 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - -
2023-11-26 10:57:14.740 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.4641ms
2023-11-26 12:18:50.042 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 12:18:50.362 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 12:18:50.364 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 12:18:50.368 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:18:50.369 +05:30 [INF] Hosting environment: Development
2023-11-26 12:18:50.369 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 12:18:51.825 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 12:18:52.285 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 12:18:52.285 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:18:52.290 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 200 - text/html;charset=utf-8 471.1315ms
2023-11-26 12:18:52.296 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 10.9395ms
2023-11-26 12:18:52.311 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.2867ms
2023-11-26 12:18:52.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - -
2023-11-26 12:18:52.530 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.6008ms
2023-11-26 12:20:37.722 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 12:21:22.161 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 12:21:24.819 +05:30 [INF] Executed DbCommand (792ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AppointmentApiDb];
2023-11-26 12:21:25.113 +05:30 [INF] Executed DbCommand (289ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AppointmentApiDb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-11-26 12:21:25.196 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 12:21:25.298 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-26 12:21:25.300 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 12:21:25.322 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 12:21:25.326 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-26 12:21:25.342 +05:30 [INF] Applying migration '20231126065037_Without auth'.
2023-11-26 12:21:25.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [Id] uniqueidentifier NOT NULL,
    [qualifications] nvarchar(max) NOT NULL,
    [Hospital] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([Id])
);
2023-11-26 12:21:25.384 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [MedId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([MedId])
);
2023-11-26 12:21:25.385 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Prescriptions] (
    [P_Id] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Prescriptions] PRIMARY KEY ([P_Id])
);
2023-11-26 12:21:25.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [ContactNo] nvarchar(10) NULL,
    [City] nvarchar(max) NULL,
    [State] nvarchar(max) NULL,
    [District] nvarchar(max) NULL,
    [ZipCode] nvarchar(max) NULL,
    [Age] int NULL,
    [Height] real NULL,
    [Weight] real NULL,
    [BloodGrp] nvarchar(max) NULL,
    [Type] int NOT NULL,
    [MedId] uniqueidentifier NULL,
    [MedicalRecordMedId] uniqueidentifier NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_MedicalRecords_MedicalRecordMedId] FOREIGN KEY ([MedicalRecordMedId]) REFERENCES [MedicalRecords] ([MedId])
);
2023-11-26 12:21:25.389 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Diseases] (
    [Dis_Id] uniqueidentifier NOT NULL,
    [Dis_Name] nvarchar(max) NOT NULL,
    [PrescriptionP_Id] uniqueidentifier NULL,
    CONSTRAINT [PK_Diseases] PRIMARY KEY ([Dis_Id]),
    CONSTRAINT [FK_Diseases_Prescriptions_PrescriptionP_Id] FOREIGN KEY ([PrescriptionP_Id]) REFERENCES [Prescriptions] ([P_Id])
);
2023-11-26 12:21:25.840 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appts] (
    [Id] uniqueidentifier NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [StartTime] datetime2 NOT NULL,
    [price] int NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    [DoctorId] uniqueidentifier NOT NULL,
    [PrescriptionId] uniqueidentifier NOT NULL,
    [MedicalRecordMedId] uniqueidentifier NULL,
    CONSTRAINT [PK_Appts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Appts_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Appts_MedicalRecords_MedicalRecordMedId] FOREIGN KEY ([MedicalRecordMedId]) REFERENCES [MedicalRecords] ([MedId]),
    CONSTRAINT [FK_Appts_Prescriptions_PrescriptionId] FOREIGN KEY ([PrescriptionId]) REFERENCES [Prescriptions] ([P_Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Appts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:25.848 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Medications] (
    [MedicationsId] int NOT NULL IDENTITY,
    [MedicationName] nvarchar(max) NOT NULL,
    [Cost] decimal(18,2) NOT NULL,
    [Quantity] int NOT NULL,
    [DisId] uniqueidentifier NOT NULL,
    [DiseaseDis_Id] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Medications] PRIMARY KEY ([MedicationsId]),
    CONSTRAINT [FK_Medications_Diseases_DiseaseDis_Id] FOREIGN KEY ([DiseaseDis_Id]) REFERENCES [Diseases] ([Dis_Id]) ON DELETE CASCADE
);
2023-11-26 12:21:25.849 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_DoctorId] ON [Appts] ([DoctorId]);
2023-11-26 12:21:27.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_MedicalRecordMedId] ON [Appts] ([MedicalRecordMedId]);
2023-11-26 12:21:27.839 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_PrescriptionId] ON [Appts] ([PrescriptionId]);
2023-11-26 12:21:27.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_UserId] ON [Appts] ([UserId]);
2023-11-26 12:21:27.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Diseases_PrescriptionP_Id] ON [Diseases] ([PrescriptionP_Id]);
2023-11-26 12:21:27.841 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Medications_DiseaseDis_Id] ON [Medications] ([DiseaseDis_Id]);
2023-11-26 12:21:27.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_MedicalRecordMedId] ON [Users] ([MedicalRecordMedId]);
2023-11-26 12:21:27.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231126065037_Without auth', N'6.0.25');
2023-11-26 12:21:40.567 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 12:21:53.213 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 12:21:53.717 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 12:21:53.744 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 12:21:53.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 12:21:53.749 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 12:21:53.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-26 12:21:53.775 +05:30 [INF] Applying migration '20231126065140_Without auth'.
2023-11-26 12:21:53.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-26 12:21:53.852 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-26 12:21:53.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:53.862 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:54.157 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:54.159 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:54.167 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 12:21:54.186 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'3eaa109c-4a46-4cfe-a88c-b96e5f98eea4', N'3eaa109c-4a46-4cfe-a88c-b96e5f98eea4', N'Doctor', N'DOCTOR');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 12:21:55.562 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'987c7f4b-3a86-4c16-a2cf-a3f172b63175', N'987c7f4b-3a86-4c16-a2cf-a3f172b63175', N'Admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 12:21:55.569 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'b62bc63a-78f6-4fc3-b2ab-16b0244a222d', N'b62bc63a-78f6-4fc3-b2ab-16b0244a222d', N'User', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 12:21:55.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-26 12:21:56.505 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-26 12:21:56.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-26 12:21:56.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-26 12:21:56.507 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-26 12:21:56.508 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-26 12:21:56.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-26 12:21:56.509 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231126065140_Without auth', N'6.0.25');
2023-11-26 23:01:50.447 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:09:39.736 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:13:52.976 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:13:55.011 +05:30 [INF] Executed DbCommand (844ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AppointmentApiDb];
2023-11-26 23:13:55.221 +05:30 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AppointmentApiDb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-11-26 23:13:55.295 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 23:13:55.398 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-26 23:13:55.399 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 23:13:55.421 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 23:13:55.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-26 23:13:55.445 +05:30 [INF] Applying migration '20231126173939_Initial migration'.
2023-11-26 23:13:55.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Doctors] (
    [Id] nvarchar(450) NOT NULL,
    [qualifications] nvarchar(max) NOT NULL,
    [Hospital] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Doctors] PRIMARY KEY ([Id])
);
2023-11-26 23:13:55.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MedicalRecords] (
    [MedId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_MedicalRecords] PRIMARY KEY ([MedId])
);
2023-11-26 23:13:55.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Prescriptions] (
    [P_Id] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Prescriptions] PRIMARY KEY ([P_Id])
);
2023-11-26 23:13:55.495 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [ContactNo] nvarchar(10) NULL,
    [City] nvarchar(max) NULL,
    [State] nvarchar(max) NULL,
    [District] nvarchar(max) NULL,
    [ZipCode] nvarchar(max) NULL,
    [Age] int NULL,
    [Height] real NULL,
    [Weight] real NULL,
    [BloodGrp] nvarchar(max) NULL,
    [Type] int NOT NULL,
    [MedId] uniqueidentifier NULL,
    [MedicalRecordMedId] uniqueidentifier NULL,
    [DoctorId] nvarchar(450) NULL,
    [UserName] nvarchar(max) NULL,
    [NormalizedUserName] nvarchar(max) NULL,
    [NormalizedEmail] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([Id]),
    CONSTRAINT [FK_Users_MedicalRecords_MedicalRecordMedId] FOREIGN KEY ([MedicalRecordMedId]) REFERENCES [MedicalRecords] ([MedId])
);
2023-11-26 23:13:55.738 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Appts] (
    [Id] uniqueidentifier NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [StartTime] datetime2 NOT NULL,
    [price] int NOT NULL,
    [UserId] nvarchar(max) NOT NULL,
    [DoctorId] nvarchar(450) NOT NULL,
    [PrescriptionId] uniqueidentifier NOT NULL,
    [MedicalRecordMedId] uniqueidentifier NULL,
    CONSTRAINT [PK_Appts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Appts_Doctors_DoctorId] FOREIGN KEY ([DoctorId]) REFERENCES [Doctors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Appts_MedicalRecords_MedicalRecordMedId] FOREIGN KEY ([MedicalRecordMedId]) REFERENCES [MedicalRecords] ([MedId]),
    CONSTRAINT [FK_Appts_Prescriptions_PrescriptionId] FOREIGN KEY ([PrescriptionId]) REFERENCES [Prescriptions] ([P_Id]) ON DELETE CASCADE
);
2023-11-26 23:13:55.740 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Diseases] (
    [Dis_Id] uniqueidentifier NOT NULL,
    [Dis_Name] nvarchar(max) NOT NULL,
    [PrescriptionP_Id] uniqueidentifier NULL,
    CONSTRAINT [PK_Diseases] PRIMARY KEY ([Dis_Id]),
    CONSTRAINT [FK_Diseases_Prescriptions_PrescriptionP_Id] FOREIGN KEY ([PrescriptionP_Id]) REFERENCES [Prescriptions] ([P_Id])
);
2023-11-26 23:13:57.669 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ApptUser] (
    [ApptId] uniqueidentifier NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_ApptUser] PRIMARY KEY ([ApptId], [UsersId]),
    CONSTRAINT [FK_ApptUser_Appts_ApptId] FOREIGN KEY ([ApptId]) REFERENCES [Appts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ApptUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:13:57.671 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Medications] (
    [MedicationsId] int NOT NULL IDENTITY,
    [MedicationName] nvarchar(max) NOT NULL,
    [Cost] decimal(18,2) NOT NULL,
    [Quantity] int NOT NULL,
    [DisId] uniqueidentifier NOT NULL,
    [DiseaseDis_Id] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Medications] PRIMARY KEY ([MedicationsId]),
    CONSTRAINT [FK_Medications_Diseases_DiseaseDis_Id] FOREIGN KEY ([DiseaseDis_Id]) REFERENCES [Diseases] ([Dis_Id]) ON DELETE CASCADE
);
2023-11-26 23:13:57.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_DoctorId] ON [Appts] ([DoctorId]);
2023-11-26 23:13:57.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_MedicalRecordMedId] ON [Appts] ([MedicalRecordMedId]);
2023-11-26 23:13:57.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Appts_PrescriptionId] ON [Appts] ([PrescriptionId]);
2023-11-26 23:13:57.674 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ApptUser_UsersId] ON [ApptUser] ([UsersId]);
2023-11-26 23:13:57.674 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Diseases_PrescriptionP_Id] ON [Diseases] ([PrescriptionP_Id]);
2023-11-26 23:13:58.374 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Medications_DiseaseDis_Id] ON [Medications] ([DiseaseDis_Id]);
2023-11-26 23:13:58.374 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_DoctorId] ON [Users] ([DoctorId]);
2023-11-26 23:13:58.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_MedicalRecordMedId] ON [Users] ([MedicalRecordMedId]);
2023-11-26 23:13:58.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231126173939_Initial migration', N'6.0.25');
2023-11-26 23:14:10.249 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:14:10.772 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 23:14:10.800 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 23:14:10.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-26 23:14:10.804 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-26 23:14:10.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-26 23:14:10.830 +05:30 [INF] Applying migration '20231126173150_Initial migration'.
2023-11-26 23:14:10.901 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-26 23:14:10.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-26 23:14:10.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:14:10.906 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:14:11.149 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:14:11.156 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:14:11.158 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-26 23:14:11.173 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'3eaa109c-4a46-4cfe-a88c-b96e5f98eea4', N'3eaa109c-4a46-4cfe-a88c-b96e5f98eea4', N'Doctor', N'DOCTOR');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 23:14:12.693 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'987c7f4b-3a86-4c16-a2cf-a3f172b63175', N'987c7f4b-3a86-4c16-a2cf-a3f172b63175', N'Admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 23:14:12.697 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'b62bc63a-78f6-4fc3-b2ab-16b0244a222d', N'b62bc63a-78f6-4fc3-b2ab-16b0244a222d', N'User', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2023-11-26 23:14:13.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-26 23:14:13.601 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-26 23:14:13.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-26 23:14:13.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-26 23:14:13.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-26 23:14:13.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-26 23:14:13.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-26 23:14:13.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231126173150_Initial migration', N'6.0.25');
2023-11-26 23:18:15.277 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 23:18:15.581 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 23:18:15.582 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 23:18:15.589 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 23:18:15.590 +05:30 [INF] Hosting environment: Development
2023-11-26 23:18:15.591 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 23:18:18.608 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 23:18:18.727 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'string' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.ParameterPolicyFactory.Create(RoutePatternParameterPart parameter, RoutePatternParameterPolicyReference reference)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at System.Threading.LazyInitializer.EnsureInitialized[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|8_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 23:18:18.975 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 500 - text/html;+charset=utf-8 371.5366ms
2023-11-26 23:18:18.990 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 23:18:18.991 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 23:18:18.999 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 7.9511ms
2023-11-26 23:18:19.026 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.6281ms
2023-11-26 23:18:19.050 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/favicon.ico - -
2023-11-26 23:18:19.052 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'string' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.ParameterPolicyFactory.Create(RoutePatternParameterPart parameter, RoutePatternParameterPolicyReference reference)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at System.Threading.LazyInitializer.EnsureInitialized[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|8_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 23:18:19.061 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/favicon.ico - - - 500 - text/plain;+charset=utf-8 11.2058ms
2023-11-26 23:20:51.519 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 23:20:51.839 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 23:20:51.840 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 23:20:51.844 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 23:20:51.845 +05:30 [INF] Hosting environment: Development
2023-11-26 23:20:51.846 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 23:20:52.873 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 23:20:53.341 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 200 - text/html;charset=utf-8 472.1328ms
2023-11-26 23:20:53.378 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 23:20:53.379 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 23:20:53.384 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 5.7959ms
2023-11-26 23:20:53.399 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.7649ms
2023-11-26 23:20:53.494 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - -
2023-11-26 23:20:53.648 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.0729ms
2023-11-26 23:21:28.985 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93
2023-11-26 23:21:28.993 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:21:29.181 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:21:29.222 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Appointment.API.Models.DTO.RegisterRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:21:30.432 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:21:31.698 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:21:31.965 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-26 23:21:32.022 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:21:32.071 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-11-26 23:21:32.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:21:32.109 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:21:32.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-11-26 23:21:32.142 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2023-11-26 23:21:32.166 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-26 23:21:32.174 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Register (Appointment.API) in 2944.4714ms
2023-11-26 23:21:32.177 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:21:32.187 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93 - 200 - text/plain;+charset=utf-8 3202.2065ms
2023-11-26 23:22:01.251 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64
2023-11-26 23:22:01.282 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:22:01.284 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:22:01.287 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Appointment.API.Models.DTO.LoginRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:22:01.376 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:22:01.388 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-26 23:22:01.495 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-26 23:22:01.538 +05:30 [INF] Executing OkObjectResult, writing value of type 'Appointment.API.Models.DTO.LoginResponseDto'.
2023-11-26 23:22:01.548 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Login (Appointment.API) in 259.5572ms
2023-11-26 23:22:01.549 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:22:01.550 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64 - 200 - application/json;+charset=utf-8 299.0717ms
2023-11-26 23:22:24.859 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 99
2023-11-26 23:22:24.865 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:22:24.867 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:22:24.868 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Appointment.API.Models.DTO.RegisterRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:22:24.891 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:22:24.895 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:22:24.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-26 23:22:24.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:22:24.912 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-11-26 23:22:24.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:22:24.918 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:22:24.921 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-11-26 23:22:24.923 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2023-11-26 23:22:24.932 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-26 23:22:24.933 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Register (Appointment.API) in 57.4956ms
2023-11-26 23:22:24.934 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:22:24.934 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 99 - 200 - text/plain;+charset=utf-8 75.1517ms
2023-11-26 23:23:11.665 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 68
2023-11-26 23:23:11.705 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:23:11.708 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:23:11.709 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Appointment.API.Models.DTO.LoginRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:23:11.711 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:23:11.715 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-26 23:23:11.726 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-26 23:23:11.728 +05:30 [INF] Executing OkObjectResult, writing value of type 'Appointment.API.Models.DTO.LoginResponseDto'.
2023-11-26 23:23:11.729 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Login (Appointment.API) in 18.5166ms
2023-11-26 23:23:11.730 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:23:11.730 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 68 - 200 - application/json;+charset=utf-8 65.7013ms
2023-11-26 23:23:59.905 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/api/Users - -
2023-11-26 23:23:59.976 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.UsersController.GetAll (Appointment.API)'
2023-11-26 23:23:59.980 +05:30 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Appointment.API.Controllers.UsersController (Appointment.API).
2023-11-26 23:24:00.093 +05:30 [INF] GetAll users Action method was invoked
2023-11-26 23:24:00.259 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:24:00.271 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[Age], [u].[BloodGrp], [u].[City], [u].[ConcurrencyStamp], [u].[ContactNo], [u].[District], [u].[DoctorId], [u].[Email], [u].[EmailConfirmed], [u].[Height], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[MedId], [u].[MedicalRecordMedId], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Password], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[State], [u].[TwoFactorEnabled], [u].[Type], [u].[UserName], [u].[Weight], [u].[ZipCode]
FROM [Users] AS [u]
2023-11-26 23:24:00.317 +05:30 [INF] Finished GetAllUsers request with data:[]
2023-11-26 23:24:00.342 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Appointment.API.Models.DTO.UserDto, Appointment.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-26 23:24:00.352 +05:30 [INF] Executed action Appointment.API.Controllers.UsersController.GetAll (Appointment.API) in 370.34ms
2023-11-26 23:24:00.353 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.UsersController.GetAll (Appointment.API)'
2023-11-26 23:24:00.354 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/api/Users - - - 200 - application/json;+charset=utf-8 448.9572ms
2023-11-26 23:25:57.081 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 99
2023-11-26 23:25:57.088 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:25:57.092 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:25:57.095 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Appointment.API.Models.DTO.RegisterRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:25:57.104 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:25:57.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:25:57.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-26 23:25:57.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:25:57.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-11-26 23:25:57.130 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:25:57.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:25:57.136 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-11-26 23:25:57.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2023-11-26 23:25:57.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-26 23:25:57.150 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Register (Appointment.API) in 47.6172ms
2023-11-26 23:25:57.151 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:25:57.152 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 99 - 200 - text/plain;+charset=utf-8 71.4455ms
2023-11-26 23:26:14.217 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 68
2023-11-26 23:26:14.219 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:26:14.219 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:26:14.220 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Appointment.API.Models.DTO.LoginRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:26:14.223 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:26:14.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-26 23:26:14.234 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-26 23:26:14.240 +05:30 [INF] Executing OkObjectResult, writing value of type 'Appointment.API.Models.DTO.LoginResponseDto'.
2023-11-26 23:26:14.245 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Login (Appointment.API) in 22.3903ms
2023-11-26 23:26:14.246 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:26:14.247 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 68 - 200 - application/json;+charset=utf-8 30.4690ms
2023-11-26 23:48:51.183 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 23:48:51.545 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 23:48:51.547 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 23:48:51.551 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 23:48:51.552 +05:30 [INF] Hosting environment: Development
2023-11-26 23:48:51.552 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 23:48:53.112 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 23:48:53.547 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 23:48:53.550 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 23:48:53.553 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 200 - text/html;charset=utf-8 445.9435ms
2023-11-26 23:48:53.555 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 8.9038ms
2023-11-26 23:48:53.573 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.4463ms
2023-11-26 23:48:53.626 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - -
2023-11-26 23:48:53.781 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.7130ms
2023-11-26 23:49:20.189 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93
2023-11-26 23:49:20.199 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:49:20.278 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:49:20.317 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Appointment.API.Models.DTO.RegisterRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:49:20.328 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Register (Appointment.API) in 2.7803ms
2023-11-26 23:49:20.335 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:49:20.337 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Appointment.API.Models.Domain.User]' while attempting to activate 'Appointment.API.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 23:49:20.384 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93 - 500 - text/plain;+charset=utf-8 195.0566ms
2023-11-26 23:55:01.602 +05:30 [INF] User profile is available. Using 'C:\Users\2000108446\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-26 23:55:01.947 +05:30 [INF] Now listening on: https://localhost:7133
2023-11-26 23:55:01.948 +05:30 [INF] Now listening on: http://localhost:5100
2023-11-26 23:55:01.953 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 23:55:01.954 +05:30 [INF] Hosting environment: Development
2023-11-26 23:55:01.954 +05:30 [INF] Content root path: C:\Users\2000108446\source\repos\Proj\API\Appointment.API\Appointment.API\
2023-11-26 23:55:02.951 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/index.html - -
2023-11-26 23:55:03.398 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/index.html - - - 200 - text/html;charset=utf-8 453.0608ms
2023-11-26 23:55:03.404 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 23:55:03.404 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/_vs/browserLink - -
2023-11-26 23:55:03.414 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 9.4075ms
2023-11-26 23:55:03.428 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.3872ms
2023-11-26 23:55:03.483 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - -
2023-11-26 23:55:03.642 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7133/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.7912ms
2023-11-26 23:55:36.507 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93
2023-11-26 23:55:36.516 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:55:36.595 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:55:36.636 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Appointment.API.Models.DTO.RegisterRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:55:37.810 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:55:39.329 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:55:39.592 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-26 23:55:39.653 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:55:39.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-11-26 23:55:39.710 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-11-26 23:55:39.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-26 23:55:39.756 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-11-26 23:55:39.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2023-11-26 23:55:39.788 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-26 23:55:39.796 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Register (Appointment.API) in 3151.7275ms
2023-11-26 23:55:39.799 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Register (Appointment.API)'
2023-11-26 23:55:39.809 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Register application/json 93 - 200 - text/plain;+charset=utf-8 3302.1950ms
2023-11-26 23:56:02.374 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64
2023-11-26 23:56:02.385 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:56:02.386 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:56:02.392 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Appointment.API.Models.DTO.LoginRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:56:02.453 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:56:02.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-26 23:56:02.465 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-11-26 23:56:02.466 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Login (Appointment.API) in 72.6812ms
2023-11-26 23:56:02.467 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:56:02.468 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64 - 400 - text/plain;+charset=utf-8 94.0482ms
2023-11-26 23:56:54.594 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64
2023-11-26 23:56:54.634 +05:30 [INF] CORS policy execution successful.
2023-11-26 23:56:54.638 +05:30 [INF] Executing endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:56:54.639 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Appointment.API.Models.DTO.LoginRequestDto) on controller Appointment.API.Controllers.AuthController (Appointment.API).
2023-11-26 23:56:54.655 +05:30 [INF] Entity Framework Core 6.0.25 initialized 'AppointmentApiAuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.25' with options: None
2023-11-26 23:56:54.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-26 23:56:54.661 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-11-26 23:56:54.662 +05:30 [INF] Executed action Appointment.API.Controllers.AuthController.Login (Appointment.API) in 21.8335ms
2023-11-26 23:56:54.663 +05:30 [INF] Executed endpoint 'Appointment.API.Controllers.AuthController.Login (Appointment.API)'
2023-11-26 23:56:54.664 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7133/api/Auth/Login application/json 64 - 400 - text/plain;+charset=utf-8 69.9324ms
